'use strict';

angular.module('UnifyApp', [
            //'ngResource',
            //'ngRoute',
            'ui.router',
            'ui.bootstrap'
        ]).
        constant('appConstants', {
            // All app constants goes here
        }).
        config(['$stateProvider', '$urlRouterProvider', '$locationProvider',
            function ($stateProvider, $urlRouterProvider, $locationProvider) {
                $locationProvider.html5Mode(true);
                $urlRouterProvider.otherwise('/');
                $stateProvider.state('index', {
                    url: '/unify_web',
                    views: {
                        'index': {
                            controller: 'IndexCtrl',
                            templateUrl: '<%= asset_path('templates/index.html') %>'
                        },
                        'hero@index': {
                            controller: 'HeroCtrl',
                            templateUrl: '<%= asset_path('partials/hero.html') %>'
                        },
                        'login@index': {
                            url: 'login',
                            controller: 'LoginCtrl',
                            templateUrl: '<%= asset_path('partials/common/login.html') %>'
                        },
                        'registration@index': {
                            url: 'register',
                            controller: 'RegistrationCtrl',
                            templateUrl: '<%= asset_path('partials/common/registration.html') %>'
                        },
                        'features@index': {
                            templateUrl: '<%= asset_path('partials/features.html') %>'
                        },
                        'faq@index': {
                            templateUrl: '<%= asset_path('partials/common/faq.html') %>'
                        },
                        'footer@index': {
                            templateUrl: '<%= asset_path('partials/common/footer.html') %>'
                        }
                    }
                }).state('bureau', {
                    url: '/unify_web/:bureau',
                    views: {
                        'bureau': {
                            controller: 'IndexCtrl',
                            templateUrl: '<%= asset_path('templates/bureau.html') %>'
                        },
                        'hero@bureau': {
                            controller: 'HeroCtrl',
                            templateUrl: '<%= asset_path('partials/bureau/hero.html') %>'
                        },
                        'login@bureau': {
                            controller: 'LoginCtrl',
                            templateUrl: '<%= asset_path('partials/common/login.html') %>'
                        },
                        'registration@bureau': {
                            controller: 'RegistrationCtrl',
                            templateUrl: '<%= asset_path('partials/common/registration.html') %>'
                        },
                        'features@bureau': {
                            templateUrl: '<%= asset_path('partials/bureau/features.html') %>'
                        },
                        'faq@bureau': {
                            templateUrl: '<%= asset_path('partials/common/faq.html') %>'
                        },
                        'footer@bureau': {
                            templateUrl: '<%= asset_path('partials/common/footer.html') %>'
                        }
                    }
                });
            }]).run(['$rootScope', '$state', '$stateParams',
                    function($rootScope, $state, $stateParams) {
                        $rootScope.loginFormVisible = false;
                        $rootScope.registrationFormVisible = false;
                }]);